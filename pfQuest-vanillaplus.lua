--Units
    --Alterac Mountains
        pfDB["units"]["data"][49249]={["coords"]={[1]={37.8,70,36,37800},[2]={49.7,60.4,36,37800},[3]={38.8,47.4,36,37800},[4]={61.9,40.5,36,37800},[5]={44.6,34.4,36,37800},},["lvl"]="60",} --Winterax Envoy
    --Desolace
        pfDB["units"]["data"][20675]={["coords"]={[1]={48.9,66.2,405,300},},["lvl"]="39",} --Spirit of Palkeote
    --Durotar
        pfDB["units"]["data"][30806]={["coords"]={[1]={50.7,12.9,14,300},},["lvl"]="30",["fac"]="H",} --Otto Steelpoulpel
    --Zul'Gurub
        pfDB["units"]["data"][11383]={["coords"]={[1]={50.7,16.7,33,37800},[2]={50.7,18.4,33,37800},[3]={51.4,16.7,33,37800},[4]={51.4,18.4,33,37800},[5]={46.8,16.1,33,37800},[6]={48.2,15.5,33,37800}},["lvl"]="60",["rnk"]="1",} --High Priestess Hai'Watna
    --Yojamba Isle
        pfDB["units"]["data"][14875]={["coords"]={[1]={40.1,70.2,33,1800},},["lvl"]="60",["rnk"] = "1",} --Molthor
        pfDB["units"]["data"][14902]={["coords"]={[1]={40,72.4,33,1800},},["lvl"]="60",["rnk"]="1",} --Jin'rokh the Breaker
        pfDB["units"]["data"][14903]={["coords"]={[1]={39.8,67.8,33,1800},},["lvl"]="60",["rnk"]="1",} --Al'tabim the All-Seeing
        pfDB["units"]["data"][14904]={["coords"]={[1]={39.8,67.9,33,1800},},["lvl"]="60",["rnk"]="1",} --Maywiki of Zuldazar
        pfDB["units"]["data"][14905]={["coords"]={[1]={41,71.6,33,1800},},["lvl"]="60",["rnk"]="1",} --Falthir the Sightless
        pfDB["units"]["data"][14910]={["coords"]={[1]={40.2,68.9,33,60},},["lvl"]="60",["rnk"]="1",} --Exzhal
        pfDB["units"]["data"][14911]={["coords"]={[1]={40.1,69.2,33,60},},["lvl"]="60",["rnk"]="1",} --Zandalar Enforcer
        pfDB["units"]["data"][14912]={["coords"]={[1]={40.1,69.1,33,60},},["lvl"]="60",["rnk"]="1",} --Captured Hakkari Zealot
        pfDB["units"]["data"][14921]={["coords"]={[1]={40,67.9,33,1800},},["lvl"]="63",["rnk"]="1",} --Rin'wosho the Trader
        pfDB["units"]["data"][15070]={["coords"]={[1]={40.3,69.1,33,1800},},["lvl"]="60",["rnk"]="1",} --Vinchaxa
        pfDB["units"]["data"][15080]={["coords"]={[1]={41.2,69.4,33,1800},[2]={41.2,69.6,33,1800},},["lvl"]="60",["rnk"]="1",} --Servant of the Hand
    --Donation Shop
        pfDB["units"]["data"][25285]={["coords"]={[1]={54.0,59,7,1519,1800},[2]={55.0,48.5,1637,1800},},["lvl"]="30",["fac"]="AH",} -- Landro Longshot (Donation Shop)
--Items
    pfDB["items"]["data"][7146]={["O"]={},["O"]={[103821]=100,}} --Scarlet Key
    pfDB["items"]["data"][26177]={["U"]={[11383]=100},} --Broken Key
    pfDB["items"]["data"][26178]={["U"]={[8560]=30,[8561]=30,[8562]=30,},} --Mossflayer Troll Mojo
    pfDB["items"]["data"][26179]={["U"]={[7369]=30,[7371]=30,[7372]=30,[7379]=30,},} --Deadwind Ogre Mojo
    pfDB["items"]["data"][26180]={["U"]={[49249]=100,},} --Winterax Troll Mojo
    pfDB["items"]["data"][26181]={["U"]={[8580]=100,},} --Hakkari Troll Mojo
    pfDB["items"]["data"][26182]={["U"]={[7267]=100,},} --Sandfury Troll Mojo
    pfDB["items"]["data"][26183]={["U"]={[10802]=100,},} --Vilebranch Troll Mojo
    pfDB["items"]["data"][26184]={["U"]={[9237]=100,},} --Smolderthorn Troll Mojo
    pfDB["items"]["data"][26185]={} --Distilled Mojo Flask
    pfDB["items"]["data"][50001]={["U"]={[524]=80,},} --Rockhide Boar Meat
    pfDB["items"]["data"][50003]={["O"]={[1000000]=100,},} --Brannol's Sewing Kit (Ogre's Bum Bag!?)
    pfDB["items"]["data"][50010]={["U"]={[2552]=100,},} --Lost Arathor Manifest - Page 1
    pfDB["items"]["data"][50011]={["U"]={[2562]=100,},} --Lost Arathor Manifest - Page 2
    pfDB["items"]["data"][50012]={["U"]={[2242]=100,},} --Lost Arathor Manifest - Page 3
    pfDB["items"]["data"][50014]={["O"]={[50010]=100,},} --Alterac Cipher

--Objects
    pfDB["objects"]["data"][103821]={["coords"]={[1]={83.7,77.9,139,900,},[2]={88.5,86.3,139,900},[3]={41.9,14.3,28,900},[4]={80.7,85.7,139,900},},} --Scarlet Strongbox
    pfDB["objects"]["data"][50010]={["coords"]={[1]={48.6,57.6,36,0,},},} --Alterac Cipher
    pfDB["objects"]["data"][1000000]={["coords"]={[1]={44.3,26.2,141,0,},},} --Brannol's Sewing Kit
    pfDB["objects"]["data"][180367]={["coords"]={[1]={41.8,69.5,33,900,},},} --Altar of Zanza
--Quests
    pfDB["quests"]["data"][30000]={["end"]={["U"]={13698},},["lvl"]=39,["min"]=37,["obj"]={["U"]={20675},},["race"]=77,["start"]={["U"]={13698},},} --The Lingering Mother
    pfDB["quests"]["data"][30001]={["end"]={["U"]={8152},},["lvl"]=39,["min"]=37,["obj"]={["U"]={20675},},["start"]={["U"]={8152},},} --Palkeote
    pfDB["quests"]["data"][30002]={["end"]={["U"]={2993},},["lvl"]=11,["min"]=10,["obj"]={["U"]={2973, 2974},},["start"]={["U"]={2993},},} --Kodo Hunt
    pfDB["quests"]["data"][30003]={["end"]={["U"]={6787},},["lvl"]=7,["min"]=5,["obj"]={["U"]={3126},},["start"]={["U"]={6787},},} --No More-pid!
    pfDB["quests"]["data"][30004]={["end"]={["U"]={2131},},["lvl"]=6,["min"]=5,["obj"]={["I"]={1251},},["start"]={["U"]={2131},},} --Don't Lose (Part Of) Your Head
    pfDB["quests"]["data"][30005]={["end"]={["U"]={1103},},["lvl"]=6,["min"]=5,["obj"]={["I"]={50001},},["race"]=77,["start"]={["U"]={927},},} --Duty of the Light
    pfDB["quests"]["data"][30006]={["end"]={["U"]={6031},},["lvl"]=6,["min"]=5,["obj"]={["I"]={50002},},["race"]=77,["start"]={["U"]={6119},},} --A Change of Heart
    pfDB["quests"]["data"][30007]={["end"]={["U"]={3611},},["lvl"]=10,["min"]=9,["obj"]={["I"]={50003},},["race"]=77,["start"]={["U"]={3611},},} --Brannol's Sewing Kit
    pfDB["quests"]["data"][30010]={["end"]={["U"]={2277},},["lvl"]=36,["min"]=36,["next"]=30011,["obj"]={["I"]={50010,50011,50012},},["race"]=77,["start"]={["U"]={2277},},} --The Arathor Manifest
    pfDB["quests"]["data"][30011]={["end"]={["U"]={2277},},["lvl"]=36,["min"]=36,["next"]=30012,["pre"]={30011},["obj"]={["I"]={50014},},["race"]=77,["start"]={["U"]={2277},},} --The Alterac Cipher
    pfDB["quests"]["data"][30012]={["end"]={["U"]={3979},},["lvl"]=36,["min"]=36,["pre"]={30011},["race"]=77,["start"]={["U"]={2277},},} --Ulda-What now?
    pfDB["quests"]["data"][10088]={["end"]={["U"]={14903},},["lvl"]=60,["min"]=55,["next"]=10089, ["start"]={["I"]={26177},},} --Broken Key - Part 1
    pfDB["quests"]["data"][10089]={["end"]={["U"]={14875},},["lvl"]=60,["min"]=55,["next"]=10090,["pre"]={10088},["start"]={["U"]={14903},},} --Broken Key - Part 2
    pfDB["quests"]["data"][10090]={["end"]={["U"]={14910},},["lvl"]=60,["min"]=55,["next"]=10091,["pre"]={10089},["obj"]={["I"]={12361,26178,26179,26180},},["start"]={["U"]={14875},},} --Broken Key - Part 3
    pfDB["quests"]["data"][10091]={["end"]={["U"]={14910},},["lvl"]=60,["min"]=55,["pre"]={10090},["obj"]={["I"]={26181,26182,26183,26184},},["start"]={["U"]={14910},},} --Broken Key - Part 4
--Meta
    pfDB["meta"]["chests"][-103821]=0 --Scarlet Strongbox
--Locale enUS
    --Objects
    pfDB["objects"]["enUS"][50010]="Alterac Cipher"
    pfDB["objects"]["enUS"][103821]="Scarlet Strongbox"
    pfDB["objects"]["enUS"][1000000]="Brannol\'s Sewing Kit"
    --Quests
    --The Lingering Mother
    pfDB["quests"]["enUS"][30000]={
        ["D"]="While my mission here is focused on the centaur, it is my duty as a Keeper to heal the world wherever it may suffer.$B$BSouthwest of here, between the kodo graveyard and the coastline, there is a spirit in this land that cries out in pain. She had no name in life, but the Tauren know her spirit as Palkeote - ? ?†? a€s??N™grey mother? ?†? a€s??Ns, in their tongue.$B$BPalkeote lost one of her sons in this land long ago, before the sundering of the world. Yet she would not leave his side. She remained here for many long years, as the trees grew and the world changed around her, until at last she too passed at the side of her beloved child.$B$BShe remains here as a restless spirit. The long years of her life and her dedication to her single task make her mighty, but she has long passed from the warmth of love for kin. You will need many allies to lay her to rest, hero, but that is what I ask you to do.",
        ["O"]="Find and defeat the spirit of Palkeote.",
        ["T"]="The Lingering Mother",
    }
    pfDB["quests"]["enUS"][30001] = {
    ["D"] = "Do you know the legend of Palkeote, the grey mother? She is the spirit of an ancient kodo who walked this land in the distant past, in the days even before the sundering. This land was green then, and she roamed it for many years with her mate and her children. One day, one of her sons fell ill with a sickness that would not leave him. He fell further behind the pack with each passing day, until he finally collapsed northwest of here, near a river that has now gone dry. Palkeote stayed with her son, but she could do nothing to stop his passing. She would not leave even then. Her herd moved on and the seasons passed around her, but still she remained, until she herself passed away beside him. Her watch did not end even then, and she remains as a mighty spirit. The Earthmother pities the suffering of all life, and she pities the suffering of mothers most of all. Palkeote\'s vigil has made her strong, but it is time for her to rest. Muster your allies and end her long watch, $C.",
    ["O"] = "Find and defeat the spirit of Palkeote.",
    ["T"] = "Palkeote",
    }
    --Kodo Hunt
    pfDB["quests"]["enUS"][30002]={
        ["D"]="The kodo is the mightiest of the beasts of Mulgore, and therefore the greatest of its hunts. You are ready, young $C, to hunt them yourself.$B$BYou have probably already seen the kodo herds wandering Mulgore during your earlier travels. Find one of the herds, and challenge its matriarch and bull.$B$BKodos are not aggressive creatures, but they are fearsome when provoked ? ?†? a€s???‚Ns you will need all the skills you have learned to overcome their elders, $R.$B$BReturn to me when you have conquered them.",
        ["O"]="Find a herd of kodo in the fields of Mulgore and defeat its Matriarch and Bull.",
        ["T"]="Kodo Hunt",
    }
    --No More-pid!
    pfDB["quests"]["enUS"][30003]={
        ["D"]="Why in the name of Doomhammer did we have to settle in a desert?$B$BScorpids! Every time I leave Razor Hill, scorpids! In my tent, in my shoes, in my armor, scorpids! I can defeat them easily - I am no weakling - but every time they sting me I have to drink a healing potion or walk all the way back to town to find a healer. I\'m sick of it!$B$BYou seem like a study warrior. Will you go out and kill every scorpid you can find? Then stomp on their tails a little? It\'s your duty to the Horde to stomp on every tail!$B$BYou can find the scorpid all over northern Durotar... whether you want to or not.",
        ["O"]="Kill 10 Armored Scorpid. Stomping on their tails is not required, but may make you feel better.",
        ["T"]="No More-pid!",
    }
    --Don't Lose (Part Of) Your Head
    pfDB["quests"]["enUS"][30004]={
        ["D"]="Some people get all the luck!$B$B<Austil glares at Colman Farthing across the inn.>$B$B? ?†? a€s??N™Oh, I lost my family, the plague took my home from me.? ?†? a€s??Ns On and on and on he goes! We get it! The plague took all of our homes and all of our families. But some of us at least came out of it with a jaw intact!$B$B<Austil cracks a bone back into place.>$B$BIf you want to make yourself useful, bring me some bandages so I can hold what's left of me together!",
        ["O"]="Bring 10 Linen Bandages to Austil de Mon, in the Gallows\' End Tavern in Brill.$B$BYou can make the bandages with First Aid skill og buy them from another player.",
        ["T"]="Don\'t Lose (Part Of) Your Head",
    }
    --Duty of the Light
    pfDB["quests"]["enUS"][30005]={
        ["D"]="To the nobles of Stormwind, a Paladin is an elite soldier, whose glory comes from deeds on the battlefield. But we who follow the light know better. To the poor of the kingdom, we are often the only source of comfort and aid. It is these simple tasks of assistance and caring that separate a true Paladin from some fool with a cudgel.$B$BThere is a struggling family in the Eastvale Logging Camp that is in need of help to get through the year. I had hoped to help myself, but I cannot leave Goldshire, not with so many threats around us. If you would aid them in my stead, hunt the Rockhide Board found south of the road and bring their meat to the logging camp.",
        ["O"]="Objectives: Bring 8 pieces of Rockhide Boar Meat to Eldrin in the Eastvale Logging Camp.",
        ["T"]="Duty of the Light",
    }
    --A Change of Heart
    pfDB["quests"]["enUS"][30006]={
        ["D"]="Hey, $C, do you think I can ask you a favor?$B$BI I know I'm here with Grimrizz and all his dark magic, but all I ever really wanted to be was a blacksmith. I know, I know, most gnomes go for engineering, but ever since I first saw Ironforge I knew that\'s what I wanted to do. The heat of the forge, the clang of the hammers, the shine of a fine-smithed balde, that\'s the life for me!$B$BWill you take this to Tormus Deepforge for me? It\'s an application to join the smith\'s guild up in Ironforge. He\'s probably near the Great Forge there, since he works with all the new smithing trainees.",
        ["O"]="Bring Tog\'s Letter to Tormus Deepforge at the Great Forge in Ironforge.",
        ["T"]="A Change of Heart",
    }
    --Brannol's Sewing Kit
    pfDB["quests"]["enUS"][30007]={
        ["D"]="Have you ever stood at the edge of Teldrassil and looked out over the Veiled Sea? It\'s a magnificent sight, $n - you should try it sometime!$b$bI used to take my sewing kit to the waterfalls near Wellspring Lake, right as they pour over the side of the trunk, to do my work in peace and serenity. But last time I was there, I was attacked by a group of maddened timberlings and driven off without my kit!$b$bThose tools have been with me a long time, and I can\'t bear to think of them tumbling over the side and into the sea and being lost forever. Would you recover them for me, please?",
        ["O"]="Recover Brannol\'s Sewing Kit and return it to him in Dolanaar.",
        ["T"]="Brannol\'s Sewing Kit",
    }
    --The Arathor Manifest
    pfDB["quests"]["enUS"][30010]={
        ["D"]="The Kingdom of Arathor is known best among commoners for its warriors. Yet those who remember the deeds of Thoradin in battle often forget that his strength was always tempered by wisdom.Thoradin sought out lore from every kingdom he conquered, and compiled it into a mighty library within the walls of Strom. Ah, to see it in its glory! Only a few tales remain, but it is said to have been lit by gilded lanterns suffused with the light itself, whose glow could wax and wane with the faith and the will of the library\'s visitors.Alas, those days are long gone.Nevertheless.",
        ["O"]="Find the three pages from the Lost Arathor Manifest and return it to Loremaster Dibbs in Southshore, The different pages can be found on members of the Whiterbark Trolls and the Boulderfist Ogres localized in Arathi Highlands. The last piece is in the pockets of a Syndicate Spy within Alterac Mountains",
        ["T"]="The Arathor Manifest",
    }
    --The Cipher of Alterac
    pfDB["quests"]["enUS"][30011]={
        ["D"]="Well! I have good news and bad news. The bad news is that this document is written in code. The good news is that if it\'s written in code, it\'s important enough to be worth deciphering!$b$bI\'ve worked enough with the old records of Strom to recognize the cipher. It\'s a variant on codes used by the Kingdom of Alterac to communicate with its scouts and watchmen to ensure that valuable intelligence was never captured. We\'ll need one of their old codebooks to decipher the manifest.I doFortunately, that should be a much simpler matter than finding the manifest in the first place! Search the old guard tower along the road leading to Alterac, not far past the snow line. With any luck, it may be undisturbed; ogres aren't widely known for their literary curiosity.",
        ["O"]="Recover the Alterac Cipher and return it to Loremaster Dibbs in Southshore. Dibbs thinks you might be able to find it in one of the old Alterac watchtowers.",
        ["T"]="The Cipher Of Alterac"
    }
    --Ulda-What now?
    pfDB["quests"]["enUS"][30012]={
        ["D"]="<Loremaster Dibbs spends a while hunched over, comparing symbols in the encrypted manifest to those in the codebook you retrieved.>$b$bThis is magnificent! There are dozens of works listed here, along with a brief summary of their contents and authorship. Many of these works are known to me either through extant copies or through their reputation as lost works, but one is not - Account of a Dark Iron Traveler.$b$bIt says here that a dwarf traveler from the south of what is now Loch Modan told stories of a grand repository of knowledge buried deep within the earth, in a place called Uldaman.  The name isn\'t familiar to me, but the location sounds like an area of the Badlands where I\'ve heard of some recent finds. You should speak to a colleague of mine, Professor Mae Paledust. She studies with the Explorer\'s League in Ironforge, and if you want expertise on things buried beneath the earth, you can\'t go wrong with a Dwarf academic!$b$bThank you again for all your help, and I d",
        ["O"]="Speak to Librarian Mae Paledust in the Ironforge Hall of ExplorersSpeak to Librarian Mae Paledust in the Ironforge Hall of Explorers",
        ["T"]="Ulda-What now?"
    }
    --Broken Key - part 1
    pfDB["quests"]["enUS"][10088]={
        ["D"]="You\'re taking it in you hand; a weird-looking damaged key, its bow was made of glass with golden lines but now is broken and some strange and sticky glowing liquid dripping from inside.$b$bA skilled master could restore it.$b$bYou\'re trying to remember any friendly troll arcanist to talk about it.",
        ["O"]="That is a troll key, a broken troll key. It used to open something important.$b$bPerhaps you shouldl find a friendly troll who knows what it is and would like to help you.",
        ["T"]="Broken Key",
    }
    --Broken Key --part 2
    pfDB["quests"]["enUS"][10089]={
        ["D"]="Al\'tabim takes a key and stares intently at it.$b$b- It\'s the key to Gul\'Gurub gates! Magical energies protect the entrance; for me, it\'s obvious that the key contained special mojo that permitted trespassing the capital\'s magic barriers.$b$bTake the remnants of the key to Molthor for further instructions of how to restore it.",
        ["O"]="Take a key to Molthor, receive further instructions to restore it, open Zul\'Gurub gates, invade an ancient capital and stop the reign of the Blood God.$b$bSeems easy enough, isn't it?",
        ["T"]="Broken Key",
    }
    --Broken Key --part 3
    pfDB["quests"]["enUS"][10090]={
        ["D"]="Yes, we need that key to be restored, and Zandalars will assist you and your friends with such a critical mission.$b$bThe heart of the key is a specific mojo. The bad news is we don\'t know the exact type of mojo required - you should find some. Start with the plagues Mossflayer tribe, dire Deadwind ogres, who dwell near the Karazhan and hidden Winterax from snowy Alterac. Take their mojo away and deliver it to Exzhal. He will test samples, and if we\'re lucky enough, he will find the correct one quickly.$b$bI almost forgot: grab Blue Sapphire to restore a key bow.",
        ["O"]="Find and deliver Blue Sapphire, Mossflayer Troll Mojo, Deadwind Ogre Mojo and Winterax Troll Mojo to Exzhal at Yojamba Isle",
        ["T"]="Broken Key"
    }
    --Broken Key - part 4
    pfDB["quests"]["enUS"][10091]={
        ["D"]="I need more mojo samples to test!$b$bThe next ones are harder to get, but we have no choice. Travel to Jintha\'Alor, Zul\'Farrak, Temple of Atal\'Hakkar and Blackrock Spire. Rip off Vilebranch Troll Mojo, Sandfury Troll Mojo, Hakkari Troll Mojo and Smolderthorn Troll Mojo.$b$bIf you survive, deliver the samples to me and pray to Zanza, mon! Otherwise, your friends should deliver the samples!$b$bDon\'t you have friends? Don\'t even try then!",
        ["O"]="Find and deliver Hakkari Troll Mojo, Sandfury Troll Mojo, Vilebranch Troll Mojo and Smolderthorn Troll Mojo to Exzhal at Yojamba Isle.",
        ["T"]="Broken Key"
    }
    --Units
    pfDB["units"]["enUS"][20675]="Spirit of Palkeote"
    pfDB["units"]["enUS"][25285]="Landro Longshot (Donation Shop)"
    pfDB["units"]["enUS"][30806]="Otto Steelpoulpel"
    pfDB["units"]["enUS"][49249]="Winterax Envoy"
    
--Reload database to register the new values
    pfDatabase.Reload()
--Fetch addon version
local frame = CreateFrame("FRAME")
frame:RegisterEvent("ADDON_LOADED")
function pfQuest_vplus_versioncheck()
    if arg1 == "pfQuest-vanillaplus" then        
        pfQuest_vplus = pfQuest_vplus or {}
        if not pfQuest_vplus then
            DEFAULT_CHAT_FRAME:AddMessage("No variable saved")
            pfQuest_vplus["prev_version"] = 0
        end
        pfQuest_vplus_currentversion = tonumber(GetAddOnMetadata("pfQuest-vanillaplus", "Version"))
        if pfQuest_vplus["prev_version"] and pfQuest_vplus["prev_version"] < pfQuest_vplus_currentversion then
            DEFAULT_CHAT_FRAME:AddMessage("|cff33ffccpf|cffffffffQuest|cffaaaaaa \[Vanilla Plus\]|cffffffff: New version discovered. It is recommended to reset the quest cache from the pfQuest settings.")
            pfQuest_vplus["prev_version"] = pfQuest_vplus_currentversion
        else
            pfQuest_vplus["prev_version"] = pfQuest_vplus_currentversion
        end
    end
end
frame:SetScript("OnEvent",pfQuest_vplus_versioncheck)